/* =========================
   0) Reset & Base
   ========================= */
* { box-sizing: border-box; margin: 0; padding: 0; }
html { -webkit-text-size-adjust: 100%; }
body {
  background: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;

  /* 关键：不要锁死页面，不用 overflow:hidden
     这样输入框永远不会“消失在视口外” */
  min-height: 100vh;
  padding: 18px 14px;

  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

/* =========================
   1) Cat
   ========================= */
#fatcat{
  width: 360px;        /* 桌面默认更大 */
  max-width: 88vw;
  height: auto;
  user-select: none;
}

/* =========================
   2) Messages box (IMPORTANT)
   - 固定“最大高度”，超过就内部滚动
   - 不会无限拉长页面
   ========================= */
.messages{
  width: min(1100px, 94vw);
  max-height: 360px;   /* 桌面：更扁，不要太高 */
  overflow-y: auto;
  overflow-x: hidden;

  padding: 14px;
  border-radius: 18px;
  background: rgba(245,245,245,0.92);
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);

  display: flex;
  flex-direction: column;
  gap: 10px;

  -webkit-overflow-scrolling: touch;
}

/* =========================
   3) Chat bubbles
   ========================= */
.bubble{
  max-width: min(860px, 92%);
  padding: 10px 12px;
  border-radius: 16px;
  line-height: 1.45;
  font-size: 15px;
  word-break: break-word;
  white-space: pre-wrap;
}

.bubble.user{
  align-self: flex-end;
  margin-left: auto;
  background: rgba(255,159,67,0.16);
}

.bubble.cat{
  align-self: flex-start;
  margin-right: auto;
  background: rgba(0,0,0,0.045);
}

/* =========================
   4) Input area (ALWAYS VISIBLE)
   ========================= */
#chatForm{
  width: min(1100px, 94vw);
  display: flex;
  align-items: center;
  gap: 10px;

  /* 关键：给足底部空间，避免手机键盘/浏览器 UI 挤压 */
  padding-bottom: 6px;
}

#chatInput{
  flex: 1 1 auto;
  padding: 12px 14px;
  border-radius: 999px;
  border: 1px solid #ddd;
  outline: none;

  /* 关键：iPhone 不自动放大 */
  font-size: 16px;
  line-height: 1.2;
  background: #fff;
}

#chatInput:focus{
  border-color: #ff9f43;
}

#chatForm button{
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: none;
  background: #ff9f43;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
}

#chatForm button:hover{
  background: #ff8c1a;
}

/* =========================
   5) Mobile tuning
   - 猫更大
   - 对话框高度再矮 ~30%
   ========================= */
@media (max-width: 600px){
  body{
    padding: 14px 12px;
    gap: 10px;
  }

  #fatcat{
    width: 280px;     /* 手机：猫更大 */
    max-width: 92vw;
  }

  .messages{
    max-height: 230px; /* 手机：比桌面矮（约少 30%） */
    padding: 12px;
  }

  #chatForm{
    width: 96vw;
  }

  #chatForm button{
    width: 42px;
    height: 42px;
  }
}

/* =========================
   6) Large desktop tuning
   - 更宽、更大猫
   - 聊天框更宽但更扁
   ========================= */
@media (min-width: 1100px){
  #fatcat{ width: 440px; }

  .messages{
    width: min(1200px, 88vw);
    max-height: 320px; /* 更扁 */
  }

  #chatForm{
    width: min(1200px, 88vw);
  }

  .bubble{ font-size: 16px; }
}