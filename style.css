/* ===== reset ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }

:root {
  /* æ¡Œé¢ï¼ˆé»˜è®¤ï¼‰å°ºå¯¸ */
  --cat-size: 360px;
  --panel-max-w: 1100px;
  --panel-w: 92vw;
  --messages-h: 340px;      /* æ¡Œé¢èŠå¤©æ¡†æ›´â€œæ‰â€ï¼šåˆ«å¤ªé«˜ */
  --gap: 12px;

  /* æ°”æ³¡ */
  --bubble-font: 15px;
}

/* å…³é”®ï¼šç”¨åŠ¨æ€è§†å£å•ä½è§£å†³æ‰‹æœºé”®ç›˜å¼¹å‡ºå¯¼è‡´å¸ƒå±€å¼‚å¸¸ */
body {
  background: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;

  height: 100vh;
  height: 100dvh;           /* æ”¯æŒçš„æµè§ˆå™¨ä¼šç”¨è¿™ä¸ªï¼Œé”®ç›˜å¼¹å‡ºæ›´ç¨³ */
  overflow: hidden;

  display: flex;
  flex-direction: column;
  align-items: center;

  padding: 18px 16px;
  gap: var(--gap);
}

/* ===== æ©˜çŒ« ===== */
#fatcat {
  width: var(--cat-size);
  max-width: 90vw;
  flex: 0 0 auto;
  user-select: none;
}

/* ===== æ¶ˆæ¯åŒºï¼šå›ºå®šé«˜åº¦ + å†…éƒ¨æ»šåŠ¨ï¼Œä¸å†æŠŠé¡µé¢æ’‘é•¿ ===== */
.messages {
  width: min(var(--panel-max-w), var(--panel-w));
  flex: 0 0 auto;
  height: var(--messages-h);     /* æ¡Œé¢å›ºå®šé«˜åº¦ï¼Œè®©å®ƒâ€œæ‰â€ */
  overflow-y: auto;
  overflow-x: hidden;

  padding: 14px;
  border-radius: 18px;
  background: rgba(245,245,245,0.92);
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);

  display: flex;
  flex-direction: column;
  gap: 10px;

  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* ===== è¾“å…¥åŒºï¼šå›ºå®šåº•éƒ¨ï¼Œä¸è·Ÿç€æ»š ===== */
#chatForm {
  width: min(var(--panel-max-w), var(--panel-w));
  flex: 0 0 auto;

  display: flex;
  gap: 10px;
  align-items: center;
}

/* å…³é”®ï¼šiOS é˜²æ­¢è¾“å…¥æ—¶è‡ªåŠ¨æ”¾å¤§ â€”â€” font-size >= 16px */
#chatInput {
  flex: 1 1 auto;
  padding: 12px 14px;
  border-radius: 20px;
  border: 1px solid #ddd;

  font-size: 16px;              /* âœ… é˜²æ­¢ iPhone è‡ªåŠ¨ zoom */
  line-height: 1.2;
  outline: none;

  -webkit-text-size-adjust: 100%;
}

#chatInput:focus { border-color: #ff9f43; }

#chatForm button {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: none;
  background: #ff9f43;
  color: #fff;
  font-size: 18px;
  cursor: pointer;
  touch-action: manipulation;
}

#chatForm button:hover { background: #ff8c1a; }

/* ===== æ°”æ³¡ ===== */
.bubble {
  max-width: min(860px, 92%);
  padding: 10px 12px;
  border-radius: 16px;
  line-height: 1.45;
  font-size: var(--bubble-font);
  word-break: break-word;
  white-space: pre-wrap;
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
}

.bubble.user {
  align-self: flex-end;
  margin-left: auto;
  background: rgba(255, 159, 67, 0.16);
}

.bubble.cat {
  align-self: flex-start;
  margin-right: auto;
  background: rgba(0, 0, 0, 0.04);
}

/* =========================================================
   ğŸ“± æ‰‹æœºç«¯ï¼šçŒ«æ›´å¤§ã€èŠå¤©æ¡†æ›´çŸ®çº¦ 30%ã€å®½åº¦æ»¡ä¸€äº›
   ========================================================= */
@media (max-width: 600px) {
  :root {
    --cat-size: 260px;           /* âœ… æ‰‹æœºæ©˜çŒ«æ›´å¤§ */
    --panel-w: 94vw;
    --messages-h: clamp(150px, 26dvh, 220px);
    /* è§£é‡Šï¼šæ¯”ä¹‹å‰æ›´çŸ®ï¼ˆå¤§çº¦å†å°‘ 30%ï¼‰ï¼Œä½†ä¸ä¼šå°åˆ°æ²¡æ³•çœ‹ */
    --bubble-font: 15px;
  }

  body {
    padding: 14px 12px;
    gap: 10px;
  }

  .messages {
    padding: 12px;
  }

  #chatForm button {
    width: 42px;
    height: 42px;
  }
}

/* =========================================================
   ğŸ–¥ï¸ å¤§å±æ¡Œé¢ï¼šçŒ«æ›´å¤§ã€èŠå¤©æ¡†æ›´å®½ã€æ›´æ‰
   ========================================================= */
@media (min-width: 1000px) {
  :root {
    --cat-size: 420px;           /* âœ… ç”µè„‘æ©˜çŒ«æ›´å¤§ */
    --panel-max-w: 1200px;
    --panel-w: 86vw;             /* âœ… èŠå¤©æ¡†æ›´å®½ */
    --messages-h: 320px;         /* âœ… æ›´æ‰ä¸€ç‚¹ */
    --bubble-font: 16px;
  }
}